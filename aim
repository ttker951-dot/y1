-- 加载Aimbot模块
local Aim = loadstring(game:HttpGet("https://raw.githubusercontent.com/kdo91653-cpu/bloxkidPVP-/refs/heads/main/Aim%20play"))()

local StarterGui = game:GetService("StarterGui")
local VirtualUser = game:GetService("VirtualUser")

-- 创建简单的UI界面
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "SimpleAimbotUI"
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 300, 0, 150)
Frame.Position = UDim2.new(0.5, -150, 0.5, -75)
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Title.Text = "Aimbot Skill"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 20
Title.Parent = Frame

local ToggleButton = Instance.new("TextButton")
ToggleButton.Size = UDim2.new(0.8, 0, 0, 40)
ToggleButton.Position = UDim2.new(0.1, 0, 0.3, 0)
ToggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ToggleButton.Text = "Aimbot: OFF"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.Font = Enum.Font.Gotham
ToggleButton.TextSize = 16
ToggleButton.Parent = Frame

local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(0.8, 0, 0, 30)
StatusLabel.Position = UDim2.new(0.1, 0, 0.7, 0)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Text = "Ready to aim"
StatusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
StatusLabel.Font = Enum.Font.Gotham
StatusLabel.TextSize = 14
StatusLabel.Parent = Frame

local aimbotEnabled = false

-- 切换Aimbot功能
ToggleButton.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    
    if aimbotEnabled then
        ToggleButton.Text = "Aimbot: ON"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 120, 215)
        StatusLabel.Text = "Aimbot 开启"
        
        -- 启用Aimbot
        if Aim and typeof(Aim.SetPlayerSilentAim) == "function" then
            pcall(function() 
                Aim:SetPlayerSilentAim(true)
            end)
        end
    else
        ToggleButton.Text = "Aimbot: OFF"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        StatusLabel.Text = "Aimbot 关闭"
        
        -- 禁用Aimbot
        if Aim and typeof(Aim.SetPlayerSilentAim) == "function" then
            pcall(function() 
                Aim:SetPlayerSilentAim(false)
            end)
        end
    end
end)

-- 添加关闭按钮
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -30, 0, 0)
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 16
CloseButton.Parent = Frame

CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
    
    -- 确保关闭时禁用Aimbot
    if Aim and typeof(Aim.SetPlayerSilentAim) == "function" then
        pcall(function() 
            Aim:SetPlayerSilentAim(false)
        end)
    end
end)

-- 防AFK功能
local antiAFKConnection
antiAFKConnection = game.Players.LocalPlayer.Idled:Connect(function()
    VirtualUser:CaptureController()
    VirtualUser:ClickButton2(Vector2.new(0, 0))
end)

-- 清理函数
game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function()
    -- 角色重生时重新连接防AFK
    if antiAFKConnection then
        antiAFKConnection:Disconnect()
    end
    antiAFKConnection = game.Players.LocalPlayer.Idled:Connect(function()
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new(0, 0))
    end)
end)

-- 游戏退出时清理
game:GetService("UserInputService").WindowFocused:Connect(function()
    if not aimbotEnabled and Aim and typeof(Aim.SetPlayerSilentAim) == "function" then
        pcall(function() 
            Aim:SetPlayerSilentAim(false)
        end)
    end
end)

-- 发送通知
StarterGui:SetCore("SendNotification", {
    Title = "Aimbot",
    Text = "by kismile",
    Duration = 5,
})
